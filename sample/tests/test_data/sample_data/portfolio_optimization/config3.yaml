# Portfolio Optimization Configuration - ADVANCED

# Model metadata
model_name: "stock_liquidation_advanced_optimization"
model_id: "PORT_OPT_002"
submission_id: "SUB_20250115_002"
model_type: "milp"
playbook_type: "portfolio_optimization"

# Dataset paths
datasets:
  holdings: "tests/test_data/sample_data/portfolio_optimization/holdings.csv"
  acquisitions: "tests/test_data/sample_data/portfolio_optimization/purchase_history.csv"

# Column mappings
columns:
  ticker: "ticker"
  shares_held: "shares_held"
  current_price: "current_price"
  total_value: "total_value"
  acquisition_date: "acquisition_date"
  purchase_price: "purchase_price"
  shares_purchased: "shares_purchased"

# Objective configuration
objective:
  type: "minimize"
  function: "tax_liability"
  description: "Minimize total capital gains tax liability"

# Advanced optimizer settings - ONLY pass what MILPOptimizer.__init__ accepts
optimizer_params:
  solver: "APOPT"
  verbose: true
  remote: false
  time_limit: 600              # MAX_TIME in GEKKO
  max_iter: 1000               # MAX_ITER in GEKKO
  mip_gap: 0.01                # Converted to minlp_gap_tol for APOPT

# Tax Parameters
tax_parameters:
  short_term_cg_rate: 0.37
  long_term_cg_rate: 0.20
  ordinary_income_offset_limit: 3000
  long_term_threshold_days: 365
  valuation_date: "2025-01-15"

# Output settings
output:
  save_results: true
  formats: ["json", "csv"]
  include_metadata: true

# Base path for outputs and logs
base_path: "."

# Additional metadata
metadata:
  client_name: "High-Net-Worth Client"
  portfolio_type: "Taxable Advisory Account"
  optimization_date: "2025-01-15"
  analyst: "Advanced Research Team"
  notes: "Advanced configuration with fine-tuned solver parameters"
  version: "1.2"
  environment: "production"